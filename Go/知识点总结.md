### gin 框架中的知识点总结
- 1. gin 服务器不同编码表单响应的时间差异
```javascript
application/x-www-form-urlencoded 
浏览器的原生 <form> 表单，如果不设置 enctype 属性，那么最终就会以 application/x-www-form-urlencoded 方式提交数据。
所以如果我们要使用表单上传文件，必须让 <form> 表单的 enctype 等于 multipart/form-data。

multipart/form-data 
我们上传文件的时候通常会选择这个格式，可以看到 Content-Type 一行有个 boundary，这个 boundary 是一个分隔符，可以把它看成 get 请求中的 & ，
这个分隔符通常是浏览器生成。由于这个分隔符的存在，我们上传的每个文件数据都会被分隔开，所以可以上传多个文件。

gin在处理数据上：
application/x-www-form-urlencoded 是微秒
multipart/form-data 是毫秒

```
- go语言在处理数据库时，遇到的NUll值报错问题
```go
//unsupported Scan, storing driver.Value type <nil> into type *string
//go 语言的强类型错误导致 nil 不能设置为*string指针
//指针变量的零值不是空子串，而是nil。

//解决方法
rows, err := db.Query("SELECT name FROM user")

if err != nil {
    return
}

for rows.Next() {
    var name *string
    err = rows.Scan(&name)
    if err != nil {
        return
    }
}

//改了name的类型定义一处，其余不变。当查询结果为NULL时，name的值为nil。当查询结果为字符串时，Go会将name的值赋为指向该字符串的指针
```
- go解析JSON中遇到的问题
```go
// 使用struct的tag  
type User struct{
    Id int `json:"id" binding:"required"` //binding:"required"必须的JSON项，缺少了以后会报错
    UserName string `json:"userName"`
    Address string `json:"-"` //不进行序列化的项，表示忽略
    Age int `json:"age,omitempy"` //当该字段为0，或空值时进行忽略
}
```
- gin 中在中间件里面传递数据
```go
//gin.Context中的Set(key string,values interface{}) 方法设置
 ctx.Set(key,value)
//gin.Context中的Get(key string) 方法获取
 ctx.Get(key)
```
- jwt token资料
> https://tools.ietf.org/html/rfc7519#section-4.1
```go
JWT组成：
	第一部分我们称它为头部（header),第二部分我们称其为载荷（playload)，第三部分是签证（signature)
header：
声明类型，这里是jwt
声明加密的算法 通常直接使用 HMAC SHA256

play load:载荷就是存放有效信息的地方
1. 标准注册声明
iss: jwt签发者
sub: jwt所面向的用户
aud: 接收jwt的一方
exp: jwt的过期时间，这个过期时间必须要大于签发时间
nbf: 定义在什么时间之前，该jwt都是不可用的.
iat: jwt的签发时间
jti: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击
2. 公共声明
3. 私有声明 （base64不建议放敏感信息，base64是对称的）
{
"name":"老王",
"age":"20",
}

signature:签名
jwt的第三部分是一个签证信息，这个签证信息由三部分组成：

header (base64后的)
payload (base64后的)
secret
这个部分需要base64加密后的header和base64加密后的payload
使用 . 连接组成的字符串，然后通过header中声明的加密方式进行加盐secret组合加密，
```
- go database/sql源码分析
> https://www.jianshu.com/p/5e7477649423
- go docker线上部署
> https://studygolang.com/articles/12670?fr=sidebar